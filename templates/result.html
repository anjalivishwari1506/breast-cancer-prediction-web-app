<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cancer Prediction Report</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <div class="report-header">
            <h1>Cancer Prediction Report</h1>
            <div class="timestamp">Generated on: <span>{{ datetime.datetime.now().strftime('%B %d, %Y %H:%M') }}</span></div>
        </div>

        <div class="report-grid">
            <!-- Patient Information Card -->
            <div class="report-card patient-card">
                <div class="card-header">
                    <h2>Patient Information</h2>
                </div>
                <div class="card-content">
                    <div class="patient-details">
                        <div class="detail-item">
                            <span class="label">Name:</span>
                            <span class="value">{{ name }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">Age:</span>
                            <span class="value">{{ age }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">Gender:</span>
                            <span class="value">{{ gender }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Result Card -->
            <div class="report-card result-card">
                <div class="card-header">
                    <h2>Diagnosis Result</h2>
                </div>
                <div class="card-content">
                    <div class="diagnosis-result {{ 'malignant' if result.startswith('Malignant') else 'benign' }}">
                        <div class="result-icon">
                            {% if result.startswith('Malignant') %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                            </svg>
                            {% else %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            {% endif %}
                        </div>
                        <div class="result-text">{{ result }}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Analysis Card -->
        <div class="report-card features-card">
            <div class="card-header">
                <h2>Tumor Features Analysis</h2>
            </div>
            <div class="card-content">
                <div class="features-grid">
                    {% for i in range(features|length) %}
                    <div class="feature-item">
                        <div class="feature-label">{{ column_names[i] }}</div>
                        <div class="feature-value">{{ "%.3f"|format(features[i]) }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <a href="/" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                Back to Form
            </a>
            <button onclick="window.print()" class="btn btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
                </svg>
                Print Report
            </button>
        </div>
    </div>
</body>

</html>